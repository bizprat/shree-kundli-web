---
/**
 * DataRow Component
 *
 * Displays a label-value pair in a consistent format.
 * Used for Panchang data, sun/moon times, and other key-value displays.
 *
 * Usage:
 * <DataRow
 *   label="Tithi"
 *   value="Shukla Shashthi"
 *   icon="ðŸŒ™"
 * />
 */

interface Props {
  /** Label text */
  label: string;
  /** Value text */
  value: string;
  /** Emoji icon (optional) */
  icon?: string;
  /** Additional CSS classes */
  class?: string;
  /** Display variant */
  variant?: 'default' | 'compact' | 'highlight';
  /** Link destination (optional) */
  href?: string;
}

const {
  label,
  value,
  icon,
  class: className = '',
  variant = 'default',
  href,
} = Astro.props;

const variantClasses = {
  default: 'py-3 border-b border-base-300/50',
  compact: 'py-2 border-b border-base-300/30',
  highlight: 'py-3 border-b border-primary/30 bg-primary/5 -mx-4 px-4 md:-mx-6 md:px-6',
};

const Tag = href ? 'a' : 'div';
const linkProps = href ? { href, class: 'hover:text-primary transition-colors' } : {};
---

<Tag
  class:list={[
    'flex justify-between items-center last:border-0',
    variantClasses[variant],
    href && 'cursor-pointer group',
    className,
  ]}
  {...linkProps}
>
  <!-- Label side -->
  <div class="flex items-center gap-2 min-w-0 flex-1">
    {icon && <span class="text-lg shrink-0">{icon}</span>}
    <span class:list={['text-neutral truncate', href && 'group-hover:text-base-content transition-colors']}>
      {label}
    </span>
  </div>

  <!-- Value side -->
  <div class="font-medium text-end shrink-0 ml-4">
    <span>{value}</span>
    {href && (
      <span class="ml-1 text-neutral opacity-0 group-hover:opacity-100 transition-opacity">â†’</span>
    )}
  </div>
</Tag>
