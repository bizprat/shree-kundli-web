---
/**
 * HeroSection Component
 *
 * Full-width hero section for homepage with cosmic gradient background.
 * Features main tagline, quick panchang preview, and CTA buttons.
 *
 * Usage:
 * <HeroSection
 *   title="Vedic Astrology & Panchang"
 *   subtitle="Accurate Hindu calendar, muhurat times, and daily horoscope"
 *   currentCity="Delhi"
 * />
 */

interface Props {
  /** Main heading */
  title?: string;
  /** Subtitle / tagline */
  subtitle?: string;
  /** Current city name */
  currentCity?: string;
  /** Current city slug */
  currentCitySlug?: string;
  /** Today's formatted date */
  todayDate?: string;
  /** Language */
  lang?: 'en' | 'hi';
  /** Additional CSS classes */
  class?: string;
}

const {
  title = 'Vedic Astrology & Panchang',
  subtitle = 'Accurate Hindu calendar, muhurat times, and daily horoscope for your city',
  currentCity = 'New Delhi',
  currentCitySlug = 'delhi',
  todayDate,
  lang = 'en',
  class: className = '',
} = Astro.props;

// Format today's date if not provided
const displayDate = todayDate || new Date().toLocaleDateString(
  lang === 'hi' ? 'hi-IN' : 'en-IN',
  { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' }
);
---

<section
  class:list={[
    'relative overflow-hidden -mx-4 px-4 md:-mx-6 md:px-6 lg:-mx-8 lg:px-8',
    'py-12 md:py-16 lg:py-20',
    'bg-gradient-to-b from-base-100 via-base-200/50 to-base-100',
    className,
  ]}
>
  <!-- Cosmic background decorations -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none" aria-hidden="true">
    <!-- Gradient orbs -->
    <div class="absolute top-0 left-1/4 w-96 h-96 bg-primary/5 rounded-full blur-3xl"></div>
    <div class="absolute bottom-0 right-1/4 w-80 h-80 bg-secondary/5 rounded-full blur-3xl"></div>
    <!-- Star-like dots -->
    <div class="absolute top-10 left-10 w-1 h-1 bg-primary/50 rounded-full"></div>
    <div class="absolute top-20 right-20 w-1.5 h-1.5 bg-secondary/50 rounded-full"></div>
    <div class="absolute bottom-20 left-1/3 w-1 h-1 bg-primary/30 rounded-full"></div>
  </div>

  <div class="relative max-w-4xl mx-auto text-center">
    <!-- Logo/Icon -->
    <div class="text-5xl md:text-6xl mb-4 animate-pulse-subtle" aria-hidden="true">
      ğŸª
    </div>

    <!-- Main Title -->
    <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-4">
      <span class="bg-gradient-to-r from-primary via-accent to-primary bg-clip-text text-transparent">
        {title}
      </span>
    </h1>

    <!-- Subtitle -->
    <p class="text-lg md:text-xl text-neutral mb-8 max-w-2xl mx-auto">
      {subtitle}
    </p>

    <!-- Quick Info Bar -->
    <div class="glass-elevated inline-flex flex-wrap items-center justify-center gap-4 md:gap-6 p-4 rounded-xl mb-8">
      <!-- Location -->
      <div class="flex items-center gap-2 text-sm">
        <span aria-hidden="true">ğŸ“</span>
        <span class="text-neutral">Showing for</span>
        <span class="font-medium text-primary">{currentCity}</span>
      </div>

      <!-- Divider -->
      <div class="hidden sm:block w-px h-4 bg-base-300"></div>

      <!-- Date -->
      <div class="flex items-center gap-2 text-sm">
        <span aria-hidden="true">ğŸ“…</span>
        <time class="text-neutral">{displayDate}</time>
      </div>
    </div>

    <!-- CTA Buttons -->
    <div class="flex flex-col sm:flex-row items-center justify-center gap-3">
      <a
        href={`/panchang/${currentCitySlug}`}
        class="btn btn-primary btn-lg shadow-lg shadow-primary/25 touch-target"
      >
        <span aria-hidden="true">ğŸ“…</span>
        <span>{lang === 'hi' ? 'à¤†à¤œ à¤•à¤¾ à¤ªà¤‚à¤šà¤¾à¤‚à¤—' : 'Today\'s Panchang'}</span>
      </a>

      <a
        href="/rashifal"
        class="btn btn-outline btn-lg touch-target"
      >
        <span aria-hidden="true">ğŸ”®</span>
        <span>{lang === 'hi' ? 'à¤°à¤¾à¤¶à¤¿à¤«à¤²' : 'Rashifal'}</span>
      </a>
    </div>

    <!-- Quick Links -->
    <div class="mt-8 flex flex-wrap items-center justify-center gap-4 text-sm text-neutral">
      <a href={`/rahu-kaal/${currentCitySlug}`} class="hover:text-primary transition-colors">
        âš ï¸ Rahu Kaal
      </a>
      <span class="text-base-300">â€¢</span>
      <a href={`/choghadiya/${currentCitySlug}`} class="hover:text-primary transition-colors">
        â±ï¸ Choghadiya
      </a>
      <span class="text-base-300">â€¢</span>
      <a href="/festivals" class="hover:text-primary transition-colors">
        ğŸ‰ Festivals
      </a>
      <span class="text-base-300">â€¢</span>
      <a href="/kundli" class="hover:text-primary transition-colors">
        ğŸŒŸ Kundli
      </a>
    </div>
  </div>
</section>

<style>
  @keyframes pulse-subtle {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }

  .animate-pulse-subtle {
    animation: pulse-subtle 3s ease-in-out infinite;
  }
</style>
